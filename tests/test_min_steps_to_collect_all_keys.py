from run2 import min_steps_to_collect_all_keys

def test_easy_example():
    data = [
        '#######',
        '#a.#Cd#',
        '##@#@##',
        '#######',
        '##@#@##',
        '#cB#Ab#',
        '#######'
    ]
    assert min_steps_to_collect_all_keys(data) == 8

def test_easy_example2():
    data = [
        '###############',
        '#d.ABC.#.....a#',
        '######@#@######',
        '###############',
        '######@#@######',
        '#b.....#.....c#',
        '###############'
    ]
    assert min_steps_to_collect_all_keys(data) == 24

def test_easy_example3():
    data = [
        '#############',
        '#DcBa.#.GhKl#',
        '#.###@#@#I###',
        '#e#d#####j#k#',
        '###C#@#@###J#',
        '#fEbA.#.FgHi#',
        '#############'
    ]
    assert min_steps_to_collect_all_keys(data) == 32

def test_hard_example():
    data = [
        '#################################################################################',
        '#...#.......#....a..#...........#..e....#.....#...#...#...........#.............#',
        '#.#.#.#####.#.#####.#.#######.###.###.#.#.###.#.#.###.#.#########.#.###.#######.#',
        '#.#.#.#.#...#.#.K...#...#...#.....#.#.#.#.#.....#.#...#t......#...#.#...#.......#',
        '#.###B#.#.#.#.#.#######.###.#######.#.###.#######.#.#########.#.#####.###.#######',
        '#.#q..#.#.#.#.#...#.....#...#.......#...#...#.#...#.........#.#.......#.#.#.....#',
        '#.#.###.#.#.#.###.#.#####.#.#.#####.###.###.#.#.#####.#######.#########.#.###.#.#',
        '#...#...#.#.#...#.#.......#...#.....#...#...#.........#.....#.......#.#...#m..#.#',
        '#.#####.#.#####.#.#######.#########.#.###F#############.###.###.###.#.#.###.#####',
        '#...#...#.......#.......#.#......h#.#...#.#.....#.......#.....#.#...#.#.#.......#',
        '###.#.###########.#####.#.#.#####.#####.#.#.###.#.#####.#####.#.#.###G#.###.###.#',
        '#.#.#.......#...#...#...#.#...J.#.#.....#.#...#.#.....#.#...#.#.#.#...#...#...#.#',
        '#.#.#####.###.#.###.#####.#####.#.#.###.#.###.#.#####.#.#.#.#.###.#.#.###.#####S#',
        '#w#...#...#...#...#...#...#...#.#...#...#.#...#.....#.#.#.#.#.....#.#...#.......#',
        '#.###.#.###.#####.###.#.#####.#.#####.###.#.###.###.#.###.#.#######.###.#######.#',
        '#...#...#...#.....#...#.#...#.#...#.#.#.#.#.#.#.#...#.....#...#...#.#.#.........#',
        '#.#####.#.###.#####.###.#.#.#.###.#.#.#.#.#.#.#.###.#########.#.#.#.#.###########',
        '#.......#...#.....#.#.....#...#.#.#...#.#...#.#...#.....#...#.#.#.#.....#.......#',
        '#C#########.#####.#.#.#######.#.#.###.#.#.###.###.#####.#.###.#.#######.###.###.#',
        '#.#.......#.#.#...#...#...#.....#...#...#.......#.#.....#.#...#.....#.#...#...#.#',
        '#.###.#.#.#.#.#.###.###.#.#########.###.#####.###.#.#####.#.#####.#.#.###.###.###',
        '#...#.#.#.#.#.#.#y..#...#...#.....#.#...#.....#...#.#.....#...#...#.....#...#...#',
        '###.###.#I#.#.#.###########.#.###.#.#####.#####.###.#.###.#####.###########.#.#.#',
        '#...#...#.#.#.#...........#...#...#.#...#...#...#.#...#...#.....#.........#.#.#.#',
        '#.###.###.#.#.#####.###########.###.#.#.#####.###.#.#####.###.###.#######.#.###.#',
        '#.....#...#...#...#.............#.....#.#.....#...#.#...#.....#...#.....#...#...#',
        '#####.#######.#.#.###############.#####.#.#######.#.#.#.#####.#.###.###.#####.###',
        '#.....#.....#...#.#...#.............#...#.......#...#.#.#.....#.#.#.#.#.........#',
        '#.#####.###.#####.#.###.###########.#.###.#####.#####.#.#######.#.#.#.#########.#',
        '#...#.#.#.#.......#...........#...#.#...#.....#.......#...#.....#...#.....#...#.#',
        '###.#.#.#.###############.#####.#.#.###.#####.###########.#.#######.###.###.#.#.#',
        '#...#.#...#.......#.....#.#.....#.#...#.#.....#...#.....#...#.....#.#...#...#...#',
        '#.###.###.#.#####.#.###.###.#####.#####.#.#####.###.###.#####.###.#.#.###.#####.#',
        '#.#.....#.#...#.....#...#...#.....#.....#...#.......#...#.....#.#.#...#...#.....#',
        '#.###L#.#.#.#.#######.###.###.#####.###.###.#.#######.#.###.###.#.###.#.###.#####',
        '#o..#.#.#.#.#.....#.#.#...#.#...#...#.#.#.#.#.....#...#.....#.#...#...#.#.......#',
        '###.###.#.#######.#.#.#.#.#.###.#.###.#.#.#.#######.#########.#.#######.#######.#',
        '#.#...#.#.......#.#.#.#.#.#.#...#.#...#.#.#.#...#...#.........#.#.....#.......#.#',
        '#.###.#.#######.#.#.#.###.#.#.###.#.###.#.#.#.#.#.###.#######.#.#.###.#######.#.#',
        '#.............#...#.......#.......#....@#@....#...#.........#.....#...........#.#',
        '#################################################################################',
        '#.....#.....#.#.........#.#...#.....#..@#@......#..u........#...#.......#.....Q.#',
        '#.#.###.#.#.#.#.#######.#.#.#.#.#.###.#.#.#.###.#.#########.###.#.#.###.#######.#',
        '#.#.#...#.#.#.#.....#...#.R.#.#.#.....#.#.#...#...#.......#r....#.#...#.........#',
        '#.#.#.###.#.#.#####.###.#####.#.#######.#.###.#######.###.#####.#.###.#####.#####',
        '#.#...#...#.......#...#.....#.#.#.#...#.#.#.#...#...#.#...#.....#b#.#...#...#..c#',
        '#.#####.#############.#####.#.#.#.#.#.#.#.#.###.#.#.#.#.###.#####.#.###.#####.#.#',
        '#p#...V.#..x#.......#...#...#.....#.#...#.#...#.#.#...#...#.#.#...#...#.....#.#.#',
        '###.#####.#.#.#####.###.#.###U#####.###.#.#.#.#.#.#######.#.#.#.###.#.#####.#.#.#',
        '#...#.....#.....#...#...#.#.#.#.....#.#.#...#.#.#.#...#.#.#...#...#.#.....#...#.#',
        '#.###.###########.###.###.#.#.#.#####.#.#.#####.#.#.#.#.#.###.###.#.#####.#####.#',
        '#.......#.......#...#.#.#.#...#...#.....#.#...#.#.#.#.#...#...#.#.#.....#...#.#.#',
        '#.#####.#.#####.###.#.#.#.#.#####.#######.#.#.#.#.#H#.###.#.###.#.#.###.###.#.#.#',
        '#.#...#.#.#...#.....#.#...#.....#...#...#.#.#...#.#.#...#.#.....#.#...#.#.#...#.#',
        '#.#.#.###.#.#######.#.###.#########.#.#.###.#####.#.###.###.#####.#####.#.###.#.#',
        '#.#.#.....#...#.....#...#.#.......#...#.#...#.....#.#.#.....#...#.......#.....#.#',
        '#.#.#########.#.#######.#.#.#####.#####.#.###.#.###.#.#######.#.#########.#####.#',
        '#.#.........#.#.#.#.....#...#...#.....#.#...#.#.#.........#...#...#.....#...#...#',
        '#.#########.#.#.#.#.#########.#.#####.#.#.#.#.###.#########.###.###.#.#####.#.#.#',
        '#.#.......#.#.#...#.#.......#.#.....#.#.#.#.#.....#.#.........#.#...#.#.....#.#.#',
        '#.#######.#.#.###.#.###.#####.#####.#.#.#.#.###.###.#.#########.#.###.#.#####.#.#',
        '#......z..#.#.#...#...#.....#.#.....#.#.#.#...#.....#.......#.#.#.#.#...#...#.#.#',
        '#########.#.#.#.#######.###.#.#.###.#.#.#.###.###########.###.#.#.#.#######.#.#.#',
        '#.#.......#.#...#.....#.#.#.#.#.#...#.#.#.#.#.............#...#.#.......#...#.#.#',
        '#.#.#######.#.###.#.#.#.#.#.#.#.#.###.#.#.#.###############.###.#######.#.###.#.#',
        '#...#.......#...#.#.#.#...#...#.#...#.#.#....j#...#...#....d#...#...#...#...#.#.#',
        '#.###.#########.###.#.###.#####.#####.#.#####.#.###.#.#.#######.#.#.#.#####.#.#.#',
        '#...#.#.......#.#...#...#...#.#.....#...#...#.#.....#.#.Z.#.....#.#...#.....#.#.#',
        '#D###.#####.###.#.#####.###.#.#####.###.###.#.#######.###.###.###.#######.###.#.#',
        '#.#...#...#..n#...#.N.#.#...#.....#.....#...#.....#...#.#...#.....#.....#.#...#.#',
        '###.###.#.###.#######.#.#.#####.#.#######.#######.#.#.#.###.#.#####.###.#.#.###W#',
        '#...#...#.............#.#.....#.#.....M.#.#.......#.#...#...#.......#.....#...#.#',
        '#.###.#.###############.#####.###.#####.#.#.#######.###.#.#######.#####.#####.#.#',
        '#.#.P.#...#...#.......#.#...#.....#...#.#.#...#.....#...#...#.#...#...#.#.....#i#',
        '#.#######.#.#.#.#####.#.#.#.#######.#.#.#.###.###.###.#####.#.#.###.#.###.#####.#',
        '#.......#...#.......#...#.#.......#.#...#...#....f#.E.#...#.#.....#.#.#...#.O.#.#',
        '#.#####.#################.###.#####.#####.#########.#####.#.#######X#.#.###.#.###',
        '#.#.#...#...#...T...#.A.#...#..k..#.#...#.#...#...#.#...#.#.....#...#.#.....#...#',
        '#.#.#.###.#.#.#####.#.#.###.#####.#.#.#.#.#.#.#.#.#.#.#.#.#####.#.###.#########.#',
        '#...#.....#.......#...#.........#.Y...#.#..s#...#..g..#.......#v..#............l#',
        '#################################################################################'
    ]
    assert min_steps_to_collect_all_keys(data) == 1640
